const char * particleGeometryShader = 
"#version 400\n"
"layout (points) in;\n"
"layout (triangle_strip, max_vertices = 4) out;\n"
"uniform mat4 ObjectMatrix;\n"
"uniform mat4 ViewMatrix;\n"
"uniform mat4 ProjectionMatrix;\n"
"in Particle \n"
"{ \n"
"	vec3 Position;\n"
"	vec4 Colour;\n"
"	float Life;\n"
"} particle[];\n"
"\n"
"out Fragment\n"
"{\n"
"	vec2 UV;\n"
"	vec4 Colour;\n"
"} fragment;\n"
"\n"
"void main()\n"
"{\n"
"	if (particle[0].Life <= 0.0f)\n"
"	{\n"
"		return;\n"
"	}\n"
"\n"
"	fragment.Colour = particle[0].Colour;\n"
"	vec4 center = ViewMatrix * vec4(particle[0].Position, 1);\n"
"\n"
"\n"
"	vec2 uv = vec2(-1, -1);\n"
"	vec4 p = center;\n"
"	p.xy += uv;\n"
"	fragment.UV = uv;\n"
"	gl_Position = ProjectionMatrix * p;\n"
"	EmitVertex();\n"
"\n"
"	uv = vec2(1, -1);\n"
"	p = center;\n"
"	p.xy += uv;\n"
"	fragment.UV = uv;\n"
"	gl_Position = ProjectionMatrix * p;\n"
"	EmitVertex();\n"
"\n"
"	uv = vec2(-1, 1);\n"
"	p = center;\n"
"	p.xy += uv;\n"
"	fragment.UV = uv;\n"
"	gl_Position = ProjectionMatrix * p;\n"
"	EmitVertex();\n"
"\n"
"	uv = vec2(1, 1);\n"
"	p = center;\n"
"	p.xy += uv;\n"
"	fragment.UV = uv;\n"
"	gl_Position = ProjectionMatrix * p;\n"
"	EmitVertex();\n"
"	EndPrimitive();\n"
"}\n"
;